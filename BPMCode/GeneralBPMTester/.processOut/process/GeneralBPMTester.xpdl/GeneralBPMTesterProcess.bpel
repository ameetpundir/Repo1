<?xml version="1.0" encoding="UTF-8"?>
<bpws:process exitOnStandardFault="no" name="GeneralBPMTesterProcess"
    suppressJoinFailure="yes" tibex:bxVersion="1.15.0"
    tibex:explicitCompensation="yes"
    tibex:xpdlId="_puxjkCmjEeuXT_-RpQh5SA"
    xmlns:bpws="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
    xmlns:jms="http://www.tibco.com/namespaces/ws/2004/soap/binding/JMS"
    xmlns:jndi="http://www.tibco.com/namespaces/ws/2004/soap/apis/jndi"
    xmlns:ns="http://xmlns.concrete2.com/1605716782112"
    xmlns:ns0="http://xmlns.concrete.com/1605702600222"
    xmlns:ns1="http://xmlns.concrete3.com/1605777947534"
    xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap12/"
    xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"
    xmlns:tns="http://xmlns.concrete2.com/1605716782112"
    xmlns:tns1="http://xmlns.concrete3.com/1605777947534"
    xmlns:tns2="http://xmlns.concrete.com/1605702600222"
    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
    xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <tibex:VariableDescriptor type="PersistentBatching">
        <task name="SendTask">
            <ProcessManagerScript type="Initiate">
                <variable>CallbackCorrelate</variable>
            </ProcessManagerScript>
            <ProcessManagerScript type="Complete">
                <variable>CallbackCorrelate</variable>
            </ProcessManagerScript>
        </task>
        <task name="_BX_sequence_2">
            <startingVariables>
                <variable>CallbackCorrelate</variable>
            </startingVariables>
        </task>
        <task name="CatchMessageEvent">
            <ProcessManagerScript type="Complete">
                <variable>CallbackCorrelate</variable>
            </ProcessManagerScript>
        </task>
        <task name="ReceiveTask">
            <ProcessManagerScript type="Initiate">
                <variable>CallbackCorrelate</variable>
            </ProcessManagerScript>
            <ProcessManagerScript type="Complete">
                <variable>CallbackCorrelate</variable>
            </ProcessManagerScript>
        </task>
        <task name="EndEvent">
            <ProcessManagerScript type="Initiate">
                <variable>CallbackCorrelate</variable>
            </ProcessManagerScript>
        </task>
    </tibex:VariableDescriptor>
    <bpws:documentation>*** Generated by TIBCO Business Studio.</bpws:documentation>
    <bpws:import importType="http://schemas.xmlsoap.org/wsdl/"
        location="GeneralTesterConcrete.wsdl" namespace="http://xmlns.concrete.com/1605702600222"/>
    <bpws:import importType="http://schemas.xmlsoap.org/wsdl/"
        location="GeneralTesterConcrete3.wsdl" namespace="http://xmlns.concrete3.com/1605777947534"/>
    <bpws:import importType="http://schemas.xmlsoap.org/wsdl/"
        location="GeneralTesterConcrete2.wsdl" namespace="http://xmlns.concrete2.com/1605716782112"/>
    <bpws:partnerLinks>
        <bpws:partnerLink name="GeneralParticipant2"
            partnerLinkType="ns:P2_PLT" partnerRole="P2Provider"/>
        <bpws:partnerLink name="GeneralParticipant1"
            partnerLinkType="ns0:P1_PLT" partnerRole="P1Provider"/>
        <bpws:partnerLink name="GeneralParticipant3"
            partnerLinkType="ns1:P3_PLT" partnerRole="P3Provider"/>
    </bpws:partnerLinks>
    <bpws:variables>
        <bpws:variable name="CallbackCorrelate"
            tibex:xpdlId="_OXEm0CpMEeuFK4vUERYa3A" type="xsd:string"/>
    </bpws:variables>
    <bpws:correlationSets tibex:useVariables="yes">
        <bpws:correlationSet name="CallbackCorrelate" properties="ns1:GeneralBPMTesterProcess_CallbackCorrelate ns0:GeneralBPMTesterProcess_CallbackCorrelate"/>
    </bpws:correlationSets>
    <bpws:extensions>
        <bpws:extension mustUnderstand="yes" namespace="http://www.tibco.com/bpel/2007/extensions"/>
    </bpws:extensions>
    <bpws:eventHandlers/>
    <bpws:flow name="_BX_flow_5eo18C2ZEeuGVJJJMRLYnw">
        <bpws:links>
            <bpws:link name="SendTask to ReceiveTask" tibex:xpdlId="_PKjX0CnAEeuXT_-RpQh5SA"/>
            <bpws:link name="ReceiveTask to ReplyToReceiveTask" tibex:xpdlId="_bLGpUCmkEeuXT_-RpQh5SA"/>
            <bpws:link name="CatchMessageEvent to SendTask" tibex:xpdlId="_SaIfoC2ZEeuGVJJJMRLYnw"/>
            <bpws:link name="ReplyToReceiveTask to EndEvent" tibex:xpdlId="_AqW2ACqKEeuFK4vUERYa3A"/>
        </bpws:links>
        <bpws:empty name="EndEvent" tibex:migrationAllowed="yes"
            tibex:type="endEvent" tibex:xpdlId="_urZOkymjEeuXT_-RpQh5SA">
            <tibex:initiatedScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[Log.write("General BPM Tester Ends with CallbackCorrelate = "+CallbackCorrelate);]]></tibex:initiatedScript>
            <bpws:targets>
                <bpws:target linkName="ReplyToReceiveTask to EndEvent"/>
            </bpws:targets>
        </bpws:empty>
        <bpws:scope name="SendTask" tibex:migrationAllowed="yes"
            tibex:type="sendTask" tibex:xpdlId="_Mxc_ACmrEeuXT_-RpQh5SA">
            <tibex:completedScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[Log.write("Send task completed with CallbackCorrelate = "+CallbackCorrelate);]]></tibex:completedScript>
            <tibex:initiatedScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[Log.write("Send task started with CallbackCorrelate = "+CallbackCorrelate);]]></tibex:initiatedScript>
            <bpws:targets>
                <bpws:target linkName="CatchMessageEvent to SendTask"/>
            </bpws:targets>
            <bpws:sources>
                <bpws:source linkName="SendTask to ReceiveTask"/>
            </bpws:sources>
            <bpws:variables>
                <bpws:variable messageType="ns:Input" name="v_43867aa"/>
            </bpws:variables>
            <bpws:sequence name="_BX_sequence">
                <bpws:scope name="_BX_ToSvcDataMapping">
                    <bpws:variables>
                        <bpws:variable name="MESSAGE_IP" type="xsd:string"/>
                    </bpws:variables>
                    <bpws:sequence name="_BX_sequence_2">
                        <bpws:extensionActivity>
                            <tibex:extActivity
                                name="_BX_DataMapperScript" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                                <tibex:script expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[// Map from 'CallbackCorrelate' to 'IP'
MESSAGE_IP = CallbackCorrelate;


]]></tibex:script>
                            </tibex:extActivity>
                        </bpws:extensionActivity>
                        <bpws:assign name="_BX_assign" validate="no">
                            <bpws:copy>
                                <bpws:from expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[MESSAGE_IP]]></bpws:from>
                                <bpws:to part="IP" variable="v_43867aa"/>
                            </bpws:copy>
                        </bpws:assign>
                    </bpws:sequence>
                </bpws:scope>
                <bpws:invoke inputVariable="v_43867aa" name="_BX_invoke"
                    operation="O2" partnerLink="GeneralParticipant2" portType="ns:P2"/>
            </bpws:sequence>
        </bpws:scope>
        <bpws:scope name="ReceiveTask" tibex:migrationAllowed="yes"
            tibex:type="receiveTask" tibex:xpdlId="_PKiwwCnAEeuXT_-RpQh5SA">
            <tibex:completedScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[Log.write("Receive task Completed with CallbackCorrelate = "+CallbackCorrelate);]]></tibex:completedScript>
            <tibex:initiatedScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[Log.write("Receive task started with CallbackCorrelate = "+CallbackCorrelate);]]></tibex:initiatedScript>
            <bpws:targets>
                <bpws:target linkName="SendTask to ReceiveTask"/>
            </bpws:targets>
            <bpws:sources>
                <bpws:source linkName="ReceiveTask to ReplyToReceiveTask"/>
            </bpws:sources>
            <bpws:variables>
                <bpws:variable messageType="ns1:Callback" name="v_f9968465"/>
            </bpws:variables>
            <bpws:sequence name="_BX_sequence_3">
                <bpws:receive createInstance="no" name="_BX_receive"
                    operation="O3" partnerLink="GeneralParticipant3"
                    portType="ns1:P3" variable="v_f9968465">
                    <bpws:correlations>
                        <bpws:correlation initiate="no" set="CallbackCorrelate"/>
                    </bpws:correlations>
                </bpws:receive>
                <bpws:scope name="_BX_FromSvcDataMapping">
                    <bpws:variables>
                        <bpws:variable name="MESSAGE_Callback" type="xsd:string"/>
                    </bpws:variables>
                    <bpws:sequence name="_BX_sequence_4">
                        <bpws:assign name="_BX_assign_2" validate="no">
                            <bpws:copy>
                                <bpws:from part="Callback" variable="v_f9968465"/>
                                <bpws:to variable="MESSAGE_Callback"/>
                            </bpws:copy>
                        </bpws:assign>
                        <bpws:extensionActivity>
                            <tibex:extActivity
                                name="_BX_DataMapperScript_2" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                                <tibex:script expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[// Map from 'Callback' to 'CallbackCorrelate'
MESSAGE_CallbackCorrelate = MESSAGE_Callback;


]]></tibex:script>
                            </tibex:extActivity>
                        </bpws:extensionActivity>
                    </bpws:sequence>
                </bpws:scope>
            </bpws:sequence>
        </bpws:scope>
        <bpws:scope name="ReplyToReceiveTask"
            tibex:migrationAllowed="yes"
            tibex:type="throwMessageIntermediateEvent" tibex:xpdlId="_nsuTwCqJEeuFK4vUERYa3A">
            <bpws:targets>
                <bpws:target linkName="ReceiveTask to ReplyToReceiveTask"/>
            </bpws:targets>
            <bpws:sources>
                <bpws:source linkName="ReplyToReceiveTask to EndEvent"/>
            </bpws:sources>
            <bpws:variables>
                <bpws:variable messageType="ns1:Callback" name="v_f9968465"/>
            </bpws:variables>
            <bpws:sequence name="_BX_sequence_5">
                <bpws:scope name="_BX_ToSvcDataMapping_2">
                    <bpws:variables>
                        <bpws:variable name="MESSAGE_Callback" type="xsd:string"/>
                    </bpws:variables>
                    <bpws:sequence name="_BX_sequence_6">
                        <bpws:extensionActivity>
                            <tibex:extActivity
                                name="_BX_DataMapperScript_3" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                                <tibex:script expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[// Map from 'Process.id' to 'Callback'
MESSAGE_Callback = Process.getId();


]]></tibex:script>
                            </tibex:extActivity>
                        </bpws:extensionActivity>
                        <bpws:assign name="_BX_assign_3" validate="no">
                            <bpws:copy>
                                <bpws:from expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[MESSAGE_Callback]]></bpws:from>
                                <bpws:to part="Callback" variable="v_f9968465"/>
                            </bpws:copy>
                        </bpws:assign>
                    </bpws:sequence>
                </bpws:scope>
                <bpws:reply name="_BX_reply" operation="O3"
                    partnerLink="GeneralParticipant3" portType="ns1:P3" variable="v_f9968465"/>
            </bpws:sequence>
        </bpws:scope>
        <bpws:scope name="CatchMessageEvent"
            tibex:type="messageStartEvent" tibex:xpdlId="_RsWMkC2ZEeuGVJJJMRLYnw">
            <tibex:completedScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[CallbackCorrelate = Process.getId();
Log.write("General tester started with Pid"+CallbackCorrelate);]]></tibex:completedScript>
            <bpws:sources>
                <bpws:source linkName="CatchMessageEvent to SendTask"/>
            </bpws:sources>
            <bpws:variables>
                <bpws:variable messageType="ns0:IP" name="v_927"/>
                <bpws:variable messageType="ns0:OP" name="v_9e1"/>
            </bpws:variables>
            <bpws:sequence name="_BX_sequence_7">
                <bpws:receive createInstance="yes" name="_BX_receive_2"
                    operation="O1" partnerLink="GeneralParticipant1"
                    portType="ns0:P1" variable="v_927">
                    <tibex:replyImmediate variable="v_9e1">
                        <bpws:copy>
                            <bpws:from variable="__PROCESS_ID__"/>
                            <bpws:to part="Output" variable="v_9e1"/>
                        </bpws:copy>
                    </tibex:replyImmediate>
                    <bpws:correlations>
                        <bpws:correlation initiate="yes" set="CallbackCorrelate"/>
                    </bpws:correlations>
                </bpws:receive>
                <bpws:scope name="_BX_FromSvcDataMapping_2">
                    <bpws:variables>
                        <bpws:variable name="MESSAGE_Input" type="xsd:string"/>
                    </bpws:variables>
                    <bpws:sequence name="_BX_sequence_8">
                        <bpws:assign name="_BX_assign_4" validate="no">
                            <bpws:copy>
                                <bpws:from part="Input" variable="v_927"/>
                                <bpws:to variable="MESSAGE_Input"/>
                            </bpws:copy>
                        </bpws:assign>
                        <bpws:extensionActivity>
                            <tibex:extActivity
                                name="_BX_DataMapperScript_4" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                                <tibex:script expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[// Map from 'Input' to 'CallbackCorrelate'
MESSAGE_CallbackCorrelate = MESSAGE_Input;


]]></tibex:script>
                            </tibex:extActivity>
                        </bpws:extensionActivity>
                    </bpws:sequence>
                </bpws:scope>
            </bpws:sequence>
        </bpws:scope>
    </bpws:flow>
</bpws:process>
